{
  "experiment": "v4_exp04_prefix_optimization",
  "model": "google/t5gemma-2-4b-4b",
  "dataset": "ms_marco_v1.1",
  "n_samples": 500,
  "seed": 42,
  "timestamp": "2026-02-19 20:50:21",
  "bonferroni": 7,
  "conditions": {
    "bare": {
      "mean_nll": 2.554357421875
    },
    "oracle_trunc": {
      "mean_nll": 2.406107421875,
      "delta": 0.14825,
      "d": 0.22751727302766783,
      "win_pct": 67.80000000000001,
      "p": 5.146799338016911e-07
    },
    "surr_kw20": {
      "mean_nll": 2.497033203125,
      "delta": 0.05732421875,
      "d": 0.11450718150170731,
      "win_pct": 68.0,
      "p": 0.010746645085205257
    },
    "surr_kw10": {
      "mean_nll": 2.4587666015625,
      "delta": 0.0955908203125,
      "d": 0.18595640599085606,
      "win_pct": 65.8,
      "p": 3.777320693703036e-05
    },
    "surr_kw5": {
      "mean_nll": 2.44673828125,
      "delta": 0.107619140625,
      "d": 0.14770868990106292,
      "win_pct": 61.6,
      "p": 0.0010256903449807672
    },
    "surr_first_sent": {
      "mean_nll": 2.818220703125,
      "delta": -0.26386328125,
      "d": -0.2984367954608514,
      "win_pct": 44.4,
      "p": 6.669458759262406e-11
    },
    "surr_random_kw5": {
      "mean_nll": 2.429353515625,
      "delta": 0.12500390625,
      "d": 0.12909685556135114,
      "win_pct": 61.0,
      "p": 0.004061929654676819
    },
    "random_trunc": {
      "mean_nll": 2.489943359375,
      "delta": 0.0644140625,
      "d": 0.0803272867184841,
      "win_pct": 54.6,
      "p": 0.07307181452026688
    },
    "bare_nq": {
      "mean_nll": 3.676462890625
    },
    "oracle_trunc_nq": {
      "mean_nll": 2.992876953125,
      "delta": 0.6835859375,
      "d": 0.37550175616788295,
      "win_pct": 92.60000000000001,
      "p": 4.793365874063871e-16
    }
  },
  "ranking": [
    {
      "name": "oracle_trunc",
      "d": 0.22751727302766783
    },
    {
      "name": "surr_kw10",
      "d": 0.18595640599085606
    },
    {
      "name": "surr_kw5",
      "d": 0.14770868990106292
    },
    {
      "name": "surr_random_kw5",
      "d": 0.12909685556135114
    },
    {
      "name": "surr_kw20",
      "d": 0.11450718150170731
    },
    {
      "name": "random_trunc",
      "d": 0.0803272867184841
    },
    {
      "name": "surr_first_sent",
      "d": -0.2984367954608514
    }
  ],
  "best_surrogate": {
    "name": "surr_kw10",
    "d": 0.18595640599085606
  },
  "prefix_length_analysis": {
    "oracle_trunc": {
      "mean_pfx_tok": 7.544,
      "d": 0.22751727302766783
    },
    "surr_kw5": {
      "mean_pfx_tok": 7.284,
      "d": 0.14770868990106292
    },
    "surr_kw10": {
      "mean_pfx_tok": 13.612,
      "d": 0.18595640599085606
    },
    "surr_kw20": {
      "mean_pfx_tok": 25.774,
      "d": 0.11450718150170731
    },
    "surr_first_sent": {
      "mean_pfx_tok": 22.116,
      "d": -0.2984367954608514
    },
    "surr_random_kw5": {
      "mean_pfx_tok": 7.284,
      "d": 0.12909685556135114
    },
    "random_trunc": {
      "mean_pfx_tok": 9.14,
      "d": 0.0803272867184841
    }
  }
}